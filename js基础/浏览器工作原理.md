进程和线程的区别：

1. 进程是程序执行的一次过程，是系统进行资源分配的基本单位
2. 线程是任务调度和执行的基本单位
3. 一个进程可以包含很多线程，但至少有一个线程

chrome 采用多进程架构，主要进程：
browser Procsss：负责地址栏，书签栏，前进后退等部分工作,在顶层，协调其他进程工作
renderer Procsss:负责一个 tab 内网页呈现的事情
plugin Procsss :控制网页中用到的所有插件，
gup Procsss 负责 GUP 相关的任务

当我们在浏览器地址栏中输入文字，并点击回车获得页面内容的过程在浏览器看来可以分为以下几步：

1.  处理输入：判断用户输入的是 url 还是字符
2.  开始导航：
    按下回车时，ui 线程 通知网络线程获取网页内容，网络线程执行 DNS 查询，为请求建立 TLS 连接，浏览器的 loading 开始加载
3.  读取响应：
    网络线程会根据 Content-Type 和 Type sniffing 判断响应内容的格式
    如果格式是 HTML,会把数据传给 renderer Process,如果是 zip ,会把数据传给下载管理器， safe 检查也会触发，判断是否是恶意站点，网络线程会展示一个警告页。
4.  查找渲染进程
    网络线程会通知 ui Thread ,Ui Thread 会查找一个 renderer Process 来进行网页渲染，如果重定向会重启一个新的渲染进程
5.  确认导航
    当数据和渲染进程都可用时，browser Process 确认渲染消息，导航过程结束，页面渲染开始。地址栏，history tab 更新，展示出网页信息。当渲染结束，renderer Process 通知 brower Process 渲染完成，浏览器的 loading 停止

加载：
https://www.cnblogs.com/bala/p/12018913.html

1. 发起 URL 请求
   网络进程会查找本地缓存是否缓存了该资源。如果有缓存资源，那么直接返回资源给浏览器进程；如果在缓存中没有查找到资源，那么直接进入网络请求流程。

2. 浏览器根据 DNS 服务器得到域名的 IP 地址，如果请求协议是 HTTPS，那么还需要建立 TLS 连接

3. 向这个 IP 的机器发送 HTTP 请求
   利用 ip 和服务器建立 tcp 连接
4. 服务器收到、处理并返回 HTTP 请求
5. 浏览器渲染页面内容

页面渲染过程：

1. 构建 DOM
   主进程会根据 HTML 结构生成 Dom 树
2. 加载次级资源
   根据 css 生成 CSSDOM，如果在 html 中存在 <img> <link> 等标签， network thread 进行相关资源的下载。
3. js 下载与执行
   加载 js 时，会停止解析 HTML,
4. 样式计算
   将 DOM 和 CSSDOM 结合形成 RenderTree， 根据 RenderTree 开始渲染和展示
   主线程计算每一个元素节点的最终样式值
5. 获取布局（回流）
   需要获知每一个节点在页面上的位置
6. 绘制各元素（重绘）
   主线程依据布局树构建绘制记录

渲染进程包括的线程：

1. 主线程
2. 工作线程
3. 排版线程
4. 光栅线程

何时发生回流？

1. 页面第一次加载的时候
2. 添加或删除 dom 元素
3. 元素大小改变的时候
4. 浏览器窗口发生变化时
5. 内容发生变化时

何时发生重绘？
当元素的样式改变，但不影响它在 dom 树中的位置时，浏览器会将新的样式赋值给该元素

如何避免重绘和回流？
css

1. 避免使用 table 布局
2. 避免设置嵌套的行内样式
3. 尽量在 dom 树末端改变 class
4. 避免使用 css 表达式
5. 将动画效果应用到 position 属性为 absolute 和 fixed 上

js

1. 避免频繁操作样式
2. 避免频繁操作 dom
3. 必要时，可以为元素设置 display:none
